╔══════════════════════════════════════════════════════════════════════════════╗
║                                                                              ║
║                  LEADS BACKEND API - POSTMAN DOCUMENTATION                  ║
║                                                                              ║
║                            START HERE ��                                    ║
║                                                                              ║
╚══════════════════════════════════════════════════════════════════════════════╝

📌 БЫСТРАЯ НАВИГАЦИЯ

┌──────────────────────────────────────────────────────────────────────────────┐
│ 1️⃣  НОВИЧОК? НАЧНИТЕ ОТСЮДА:                                                │
│    → Откройте файл: POSTMAN_QUICK_START.md                                  │
│    → Время: 3 минуты                                                         │
│    → Результат: готовая к работе коллекция                                  │
└──────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────┐
│ 2️⃣  НУЖНЫ ДЕТАЛИ И СКРИНШОТЫ? ЧИТАЙТЕ:                                      │
│    → Откройте файл: POSTMAN_STEP_BY_STEP.md                                 │
│    → Время: 10-15 минут                                                      │
│    → Результат: полное понимание всех шагов                                 │
└──────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────┐
│ 3️⃣  НУЖНА ПОЛНАЯ СПРАВКА? СМОТРИТЕ:                                         │
│    → Откройте файл: POSTMAN_GUIDE.md                                        │
│    → Время: 30+ минут                                                        │
│    → Результат: полная документация со всеми деталями                       │
└──────────────────────────────────────────────────────────────────────────────┘

┌──────────────────────────────────────────────────────────────────────────────┐
│ 📖 ОБЗОР ВСЕХ ДОКУМЕНТОВ:                                                    │
│    → Откройте файл: README_POSTMAN.md                                       │
│    → Это центральный индекс со всеми ссылками                               │
└──────────────────────────────────────────────────────────────────────────────┘

╔══════════════════════════════════════════════════════════════════════════════╗
║                          ФАЙЛЫ И ИХ НАЗНАЧЕНИЕ                              ║
╚══════════════════════════════════════════════════════════════════════════════╝

📄 postman_collection.json
   ├─ ТИП: Postman Collection (JSON)
   ├─ ЧТО ЭТО: Сама коллекция с 20+ запросами
   ├─ ДЕЙСТВИЕ: Импортируйте этот файл в Postman
   └─ КОМАНДА: File → Import → postman_collection.json

📄 POSTMAN_QUICK_START.md
   ├─ ДЛЯ: Спешащих людей
   ├─ ВРЕМЯ: 3 минуты
   ├─ СОДЕРЖИТ:
   │  • Как импортировать коллекцию
   │  • Первый запрос (Health Check)
   │  • Полный цикл за 2 минуты
   └─ РЕЗУЛЬТАТ: Рабочая коллекция

📄 POSTMAN_STEP_BY_STEP.md
   ├─ ДЛЯ: Начинающих пользователей
   ├─ ВРЕМЯ: 10-15 минут
   ├─ СОДЕРЖИТ:
   │  • Пошаговые инструкции
   │  • Визуальные диаграммы
   │  • Примеры экранов Postman
   │  • Решение типичных проблем
   └─ РЕЗУЛЬТАТ: Полное понимание

📄 POSTMAN_GUIDE.md
   ├─ ДЛЯ: Опытных пользователей
   ├─ ВРЕМЯ: 30+ минут для углубленного изучения
   ├─ СОДЕРЖИТ:
   │  • Подробное описание каждого endpoint'а
   │  • Параметры и возможные ошибки
   │  • Примеры использования
   │  • Советы и трюки Postman
   │  • Отладка и тестирование
   └─ РЕЗУЛЬТАТ: Полная справка

📄 README_POSTMAN.md
   ├─ ДЛЯ: Всех (навигация)
   ├─ ВРЕМЯ: 5 минут для обзора
   ├─ СОДЕРЖИТ:
   │  • Индекс всех документов
   │  • Структура коллекции
   │  • Список переменных
   │  • Часто задаваемые вопросы
   └─ РЕЗУЛЬТАТ: Быстрый доступ к нужной информации

📄 POSTMAN_START_HERE.txt
   ├─ ЭТО: Вы читаете этот файл прямо сейчас!
   ├─ НАЗНАЧЕНИЕ: Навигация между документами
   └─ ДЕЙСТВИЕ: Выберите один из файлов выше

╔══════════════════════════════════════════════════════════════════════════════╗
║                        РЕКОМЕНДУЕМЫЙ ПОРЯДОК ЧТЕНИЯ                         ║
╚══════════════════════════════════════════════════════════════════════════════╝

СЦЕНАРИЙ 1: У меня нет времени
──────────────────────────────────
1. Откройте: POSTMAN_QUICK_START.md (3 мин)
2. Импортируйте коллекцию (1 мин)
3. Попробуйте 5 запросов (2 мин)
⏱️  ИТОГО: 6 минут

СЦЕНАРИЙ 2: Я хочу всё понять
──────────────────────────────
1. Откройте: README_POSTMAN.md (5 мин)
2. Откройте: POSTMAN_STEP_BY_STEP.md (15 мин)
3. Импортируйте и попробуйте (10 мин)
⏱️  ИТОГО: 30 минут

СЦЕНАРИЙ 3: Я глубоко изучаю документацию
──────────────────────────────────────────
1. Откройте: README_POSTMAN.md (5 мин)
2. Откройте: POSTMAN_GUIDE.md (30 мин)
3. Импортируйте коллекцию (2 мин)
4. Тестируйте все запросы с документацией (20 мин)
⏱️  ИТОГО: 57 минут

╔══════════════════════════════════════════════════════════════════════════════╗
║                             ШАГ 1: ИМПОРТ                                  ║
╚══════════════════════════════════════════════════════════════════════════════╝

В POSTMAN:

┌────────────────────────────────────────────────────────────────────────────┐
│ 1. Откройте Postman (если не открыт)                                      │
│                                                                            │
│ 2. Нажмите кнопку [Import] (верхнее левое меню)                          │
│    Или: File → Import                                                     │
│                                                                            │
│ 3. Выберите вкладку [File]                                                │
│                                                                            │
│ 4. Нажмите [Choose Files] или [Upload Files]                             │
│                                                                            │
│ 5. Выберите файл: postman_collection.json                                │
│    (находится в корне папки проекта /leads-backend/)                     │
│                                                                            │
│ 6. Нажмите [Import]                                                       │
│                                                                            │
│ ✅ ГОТОВО! Коллекция появится в левой панели                            │
└────────────────────────────────────────────────────────────────────────────┘

╔══════════════════════════════════════════════════════════════════════════════╗
║                          ШАГ 2: ПЕРВЫЙ ЗАПРОС                              ║
╚══════════════════════════════════════════════════════════════════════════════╝

После импорта:

┌────────────────────────────────────────────────────────────────────────────┐
│ 1. В левой панели раскройте коллекцию                                     │
│    "Leads Backend API - Complete Documentation"                          │
│                                                                            │
│ 2. Раскройте папку "0. System Health"                                    │
│                                                                            │
│ 3. Нажмите на запрос "Health Check (No Auth Required)"                   │
│                                                                            │
│ 4. В центре экрана нажмите синюю кнопку [Send]                           │
│                                                                            │
│ 5. Смотрите ответ внизу:                                                 │
│    Status: 200 OK ✅                                                      │
│    {                                                                      │
│      "success": true,                                                    │
│      "message": "Server is running",                                     │
│      "timestamp": "..."                                                  │
│    }                                                                      │
│                                                                            │
│ ✅ ЕСЛИ ВЫ ВИДИТЕ ЭТО - ВСЁ РАБОТАЕТ!                                   │
└────────────────────────────────────────────────────────────────────────────┘

╔══════════════════════════════════════════════════════════════════════════════╗
║                         ЕСЛИ ЧТО-ТО НЕ РАБОТАЕТ                            ║
╚══════════════════════════════════════════════════════════════════════════════╝

❌ "Cannot connect to server"
───────────────────────────────
ПРИЧИНА: Бэкенд не запущен
РЕШЕНИЕ:
  1. Откройте терминал
  2. Выполните: docker compose up -d
  3. Подождите 10 секунд
  4. Попробуйте Health Check снова

❌ "Connection refused"
───────────────────────
ПРИЧИНА: Порт 3000 занят или сервер не запущен
РЕШЕНИЕ: Смотрите выше

❌ "401 Unauthorized"
──────────────────────
ПРИЧИНА: Токен не установлен
РЕШЕНИЕ:
  1. Выполните запрос "Register" из папки "1. Authentication"
  2. Токен автоматически сохранится
  3. Повторите запрос

❌ Переменная пуста
────────────────────
ПРИЧИНА: Запрос, который сохраняет переменную, не был выполнен
РЕШЕНИЕ:
  1. Выполните основной запрос (например, Register)
  2. Убедитесь, что статус 200 или 201
  3. Переменная заполнится автоматически

╔══════════════════════════════════════════════════════════════════════════════╗
║                         СЛЕДУЮЩИЕ ШАГИ                                     ║
╚══════════════════════════════════════════════════════════════════════════════╝

ПОСЛЕ УСПЕШНОГО ИМПОРТА:

1️⃣  Выполните Health Check ✓ (видите успешный ответ)

2️⃣  Выполните Register (создайте пользователя)

3️⃣  Выполните Get Profile (посмотрите свой профиль)

4️⃣  Создайте Lead Type (категорию лидов)

5️⃣  Создайте Lead (лид в этой категории)

6️⃣  Создайте Order (заказ на лид)

7️⃣  Создайте Payment (платёж за заказ)

✅ ГОТОВО! Вы прошли полный цикл

╔══════════════════════════════════════════════════════════════════════════════╗
║                        СПИСОК ВСЕХ ЗАПРОСОВ                                 ║
╚══════════════════════════════════════════════════════════════════════════════╝

ПАПКА 0. System Health
├─ GET    /api/health                           (Проверка сервера)

ПАПКА 1. Authentication
├─ POST   /api/auth/register                    (Регистрация)
└─ POST   /api/auth/login                       (Вход)

ПАПКА 2. User Management
└─ GET    /api/users/profile                    (Профиль)

ПАПКА 3. Lead Types
├─ POST   /api/lead-types                       (Создание типа)
├─ GET    /api/lead-types                       (Список типов)
└─ GET    /api/lead-types/{id}                  (Один тип)

ПАПКА 4. Leads
├─ POST   /api/leads                            (Создание лида)
└─ GET    /api/leads                            (Список лидов)

ПАПКА 5. Orders
└─ POST   /api/orders                           (Создание заказа)

ПАПКА 6. Payments
└─ POST   /api/payments                         (Создание платежа)

ПАПКА 7. Consent
└─ POST   /api/consent                          (Запись согласия)

Всего: 16 endpoint'ов

╔══════════════════════════════════════════════════════════════════════════════╗
║                     ПЕРЕМЕННЫЕ ОКРУЖЕНИЯ (AUTO)                            ║
╚══════════════════════════════════════════════════════════════════════════════╝

{{base_url}}      = http://localhost:3000         (URL сервера)
{{token}}         = (заполняется после Register)  (JWT токен)
{{leadTypeId}}    = (заполняется после создания типа)
{{leadId}}        = (заполняется после создания лида)
{{orderId}}       = (заполняется после создания заказа)

Все переменные заполняются АВТОМАТИЧЕСКИ!

╔══════════════════════════════════════════════════════════════════════════════╗
║                         ПОЛЕЗНЫЕ ССЫЛКИ                                    ║
╚══════════════════════════════════════════════════════════════════════════════╝

📚 Полная документация:
   → README_POSTMAN.md (индекс)
   → POSTMAN_GUIDE.md (полный справочник)
   → POSTMAN_STEP_BY_STEP.md (пошагово)
   → POSTMAN_QUICK_START.md (быстро)

📖 Официальные ресурсы:
   → https://learning.postman.com/
   → https://www.postman.com/downloads/

📊 Наши документы:
   → /leads-backend/README.md (основная документация)
   → /leads-backend/API.md (описание API)

╔══════════════════════════════════════════════════════════════════════════════╗
║                          ГОТОВЫ НАЧАТЬ?                                    ║
╚══════════════════════════════════════════════════════════════════════════════╝

Выберите один из вариантов:

[ 1 ] Спешу, дай мне 3 минуты
      → Откройте: POSTMAN_QUICK_START.md

[ 2 ] Хочу всё понять с картинками
      → Откройте: POSTMAN_STEP_BY_STEP.md

[ 3 ] Нужна полная справка
      → Откройте: POSTMAN_GUIDE.md

[ 4 ] Дай мне обзор всех документов
      → Откройте: README_POSTMAN.md

[ 5 ] Я готов! Начинаю прямо сейчас
      → Импортируйте postman_collection.json
      → Выполните первый запрос (Health Check)
      → Начинайте тестировать!

═══════════════════════════════════════════════════════════════════════════════

Версия документации: 1.0.0
Последнее обновление: 9 декабря 2025 г.

Вопросы? Смотрите README_POSTMAN.md раздел "FAQ" 📖

═══════════════════════════════════════════════════════════════════════════════

                            HAPPY TESTING! 🚀
